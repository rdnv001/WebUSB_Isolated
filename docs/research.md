# Обзор на WebUSB API с Isolated Web App
# Оглавление
1. [Вступление](#introduction)
2. [MacOS ARM](#macosarm)
3. [Windows](#windows)
4. [Linux](#linux)

# Вступление <a name="introduction"></a>
В этом исследованиии мы разберем, как работает WebUSB со смарт-картами в изолированных веб приложениях на различных Операционных Системах, таких как

    1) MacOS
    2) Windows 
    3) Linux
и процессорах архитектуры 

    1) ARM 
    2) x86_64
   
__Web USB__ – это JavaScript API, который даёт возможность веб-приложениям взаимодействовать
с локальными USB-устройствами на компьютере. Согласно спецификации WebUSB, некоторые
классы интерфейсов защищены от доступа веб-приложений, чтобы предотвратить доступ вредо-
носных скриптов к потенциально чувствительным данным.

Спецификация WebUSB определяет блок-лист уязвимых устройств и таблицу защищённых
классов интерфейсов, доступ к которым заблокирован через WebUSB. 

С разрешением на исполь-
зование функции __«usb-unrestricted»__ изолированные веб приложения смогут получить доступ к
устройствам из блок-листа и защищённым классам интерфейсов.
# MacOS ARM <a name="macosarm"></a>
На процессорах ARM впринципе невозможно запустить изолированное веб-приложение по причине того, что поддержка функции usb-unrestricted добавлена в Chrome 128, работающий на движке Blink. 

Chrome на macOS на процессоре Apple Silicon (архитектура ARM), работает на
движке WebKit ⇒ usb-unrestricted на нем не функционирует.
# Windows <a name="windows"></a>
На ОС Windows изолированные веб-приложения успешно функционирут, но теперь проблема возникает на стороне WebUSB API. 

Дело в том, что в [summary](https://groups.google.com/a/chromium.org/g/blink-dev/c/LZXocaeCwDw/m/GLfAffGLAAAJ) описания ограничений доступа к классам устройств из WebUSB написано, что Windows ограничивает доступ к смарт-картам, как к USB-устройству, в обход Сервиса поддержки смарт-карт.
 
    "These interface classes are already mostly blocked by an operating system’s built-in class drivers."

# Linux <a name="linux"></a>
В данном случае была использована виртуальная машина __Oracle Virtualbox__ на которую предварительно установили образ __Ubuntu 24.04__. 

В точности выполняя инструкцию, последует успешная сборка и запуск прототипа. 

__Важно__ выбрать в верхней панели меню виртуальной машины USB устройство, с которым вы будете работать, иначе приложение не сможет обнаружить его.  